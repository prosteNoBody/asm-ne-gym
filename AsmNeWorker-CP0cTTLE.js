var Dt=(S,k)=>{const $=S[k];return $?typeof $=="function"?$():Promise.resolve($):new Promise((o,w)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(w.bind(null,new Error("Unknown variable dynamic import: "+k)))})},It=(()=>{var S=import.meta.url;return function(k={}){var $,o=Object.assign({},k),w,P,T=new Promise((r,e)=>{w=r,P=e}),Y=!0,V=Object.assign({},o),m="";function ee(r){return o.locateFile?o.locateFile(r,m):m+r}typeof document<"u"&&document.currentScript&&(m=document.currentScript.src),S&&(m=S),m.startsWith("blob:")?m="":m=m.substr(0,m.replace(/[?#].*/,"").lastIndexOf("/")+1),o.print||console.log.bind(console);var A=o.printErr||console.error.bind(console);Object.assign(o,V),V=null,o.arguments&&o.arguments,o.thisProgram&&o.thisProgram,o.quit&&o.quit;var L;o.wasmBinary&&(L=o.wasmBinary);var Te,Ae=!1,D,g,q,re,G,h,Fe,Re;function sr(){var r=Te.buffer;o.HEAP8=D=new Int8Array(r),o.HEAP16=q=new Int16Array(r),o.HEAPU8=g=new Uint8Array(r),o.HEAPU16=re=new Uint16Array(r),o.HEAP32=G=new Int32Array(r),o.HEAPU32=h=new Uint32Array(r),o.HEAPF32=Fe=new Float32Array(r),o.HEAPF64=Re=new Float64Array(r)}var Ee=[],Se=[],ke=[];function or(){if(o.preRun)for(typeof o.preRun=="function"&&(o.preRun=[o.preRun]);o.preRun.length;)fr(o.preRun.shift());pe(Ee)}function ur(){pe(Se)}function lr(){if(o.postRun)for(typeof o.postRun=="function"&&(o.postRun=[o.postRun]);o.postRun.length;)dr(o.postRun.shift());pe(ke)}function fr(r){Ee.unshift(r)}function cr(r){Se.unshift(r)}function dr(r){ke.unshift(r)}var I=0,x=null;function vr(r){I++,o.monitorRunDependencies?.(I)}function pr(r){if(I--,o.monitorRunDependencies?.(I),I==0&&x){var e=x;x=null,e()}}function ve(r){o.onAbort?.(r),r="Aborted("+r+")",A(r),Ae=!0,r+=". Build with -sASSERTIONS for more info.";var e=new WebAssembly.RuntimeError(r);throw P(e),e}var hr="data:application/octet-stream;base64,",Oe=r=>r.startsWith(hr),U;o.locateFile?(U="asm_core.wasm",Oe(U)||(U=ee(U))):U=new URL("/asm_core-BAD1awwS.wasm",import.meta.url).href;function We(r){if(r==U&&L)return new Uint8Array(L);throw"both async and sync fetching of the wasm failed"}function gr(r){return!L&&Y&&typeof fetch=="function"?fetch(r,{credentials:"same-origin"}).then(e=>{if(!e.ok)throw`failed to load wasm binary file at '${r}'`;return e.arrayBuffer()}).catch(()=>We(r)):Promise.resolve().then(()=>We(r))}function De(r,e,t){return gr(r).then(n=>WebAssembly.instantiate(n,e)).then(t,n=>{A(`failed to asynchronously prepare wasm: ${n}`),ve(n)})}function _r(r,e,t,n){return!r&&typeof WebAssembly.instantiateStreaming=="function"&&!Oe(e)&&typeof fetch=="function"?fetch(e,{credentials:"same-origin"}).then(i=>{var s=WebAssembly.instantiateStreaming(i,t);return s.then(n,function(u){return A(`wasm streaming compile failed: ${u}`),A("falling back to ArrayBuffer instantiation"),De(e,t,n)})}):De(e,t,n)}function mr(){return{env:Ye,wasi_snapshot_preview1:Ye}}function yr(){var r=mr();function e(n,i){return R=n.exports,Te=R.memory,sr(),Le=R.__indirect_function_table,cr(R.__wasm_call_ctors),pr(),R}vr();function t(n){e(n.instance)}if(o.instantiateWasm)try{return o.instantiateWasm(r,e)}catch(n){A(`Module.instantiateWasm callback failed with error: ${n}`),P(n)}return _r(L,U,r,t).catch(P),{}}var pe=r=>{for(;r.length>0;)r.shift()(o)};o.noExitRuntime;class $r{constructor(e){this.excPtr=e,this.ptr=e-24}set_type(e){h[this.ptr+4>>2]=e}get_type(){return h[this.ptr+4>>2]}set_destructor(e){h[this.ptr+8>>2]=e}get_destructor(){return h[this.ptr+8>>2]}set_caught(e){e=e?1:0,D[this.ptr+12]=e}get_caught(){return D[this.ptr+12]!=0}set_rethrown(e){e=e?1:0,D[this.ptr+13]=e}get_rethrown(){return D[this.ptr+13]!=0}init(e,t){this.set_adjusted_ptr(0),this.set_type(e),this.set_destructor(t)}set_adjusted_ptr(e){h[this.ptr+16>>2]=e}get_adjusted_ptr(){return h[this.ptr+16>>2]}get_exception_ptr(){var e=rr(this.get_type());if(e)return h[this.excPtr>>2];var t=this.get_adjusted_ptr();return t!==0?t:this.excPtr}}var Ie=0,br=(r,e,t)=>{var n=new $r(r);throw n.init(e,t),Ie=r,Ie},wr=(r,e,t,n,i)=>{},Pr=()=>{for(var r=new Array(256),e=0;e<256;++e)r[e]=String.fromCharCode(e);Ue=r},Ue,b=r=>{for(var e="",t=r;g[t];)e+=Ue[g[t++]];return e},B={},j={},te={},M,v=r=>{throw new M(r)},je,ne=r=>{throw new je(r)},J=(r,e,t)=>{r.forEach(function(a){te[a]=e});function n(a){var l=t(a);l.length!==r.length&&ne("Mismatched type converter count");for(var f=0;f<r.length;++f)F(r[f],l[f])}var i=new Array(e.length),s=[],u=0;e.forEach((a,l)=>{j.hasOwnProperty(a)?i[l]=j[a]:(s.push(a),B.hasOwnProperty(a)||(B[a]=[]),B[a].push(()=>{i[l]=j[a],++u,u===s.length&&n(i)}))}),s.length===0&&n(i)};function Cr(r,e,t={}){var n=e.name;if(r||v(`type "${n}" must have a positive integer typeid pointer`),j.hasOwnProperty(r)){if(t.ignoreDuplicateRegistrations)return;v(`Cannot register type '${n}' twice`)}if(j[r]=e,delete te[r],B.hasOwnProperty(r)){var i=B[r];delete B[r],i.forEach(s=>s())}}function F(r,e,t={}){if(!("argPackAdvance"in e))throw new TypeError("registerType registeredInstance requires argPackAdvance");return Cr(r,e,t)}var O=8,Tr=(r,e,t,n)=>{e=b(e),F(r,{name:e,fromWireType:function(i){return!!i},toWireType:function(i,s){return s?t:n},argPackAdvance:O,readValueFromPointer:function(i){return this.fromWireType(g[i])},destructorFunction:null})},Ar=r=>({count:r.count,deleteScheduled:r.deleteScheduled,preservePointerOnDelete:r.preservePointerOnDelete,ptr:r.ptr,ptrType:r.ptrType,smartPtr:r.smartPtr,smartPtrType:r.smartPtrType}),he=r=>{function e(t){return t.$$.ptrType.registeredClass.name}v(e(r)+" instance already deleted")},ge=!1,He=r=>{},Fr=r=>{r.smartPtr?r.smartPtrType.rawDestructor(r.smartPtr):r.ptrType.registeredClass.rawDestructor(r.ptr)},Ve=r=>{r.count.value-=1;var e=r.count.value===0;e&&Fr(r)},Be=(r,e,t)=>{if(e===t)return r;if(t.baseClass===void 0)return null;var n=Be(r,e,t.baseClass);return n===null?null:t.downcast(n)},Me={},Rr=()=>Object.keys(K).length,Er=()=>{var r=[];for(var e in K)K.hasOwnProperty(e)&&r.push(K[e]);return r},Q=[],_e=()=>{for(;Q.length;){var r=Q.pop();r.$$.deleteScheduled=!1,r.delete()}},Z,Sr=r=>{Z=r,Q.length&&Z&&Z(_e)},kr=()=>{o.getInheritedInstanceCount=Rr,o.getLiveInheritedInstances=Er,o.flushPendingDeletes=_e,o.setDelayFunction=Sr},K={},Or=(r,e)=>{for(e===void 0&&v("ptr should not be undefined");r.baseClass;)e=r.upcast(e),r=r.baseClass;return e},Wr=(r,e)=>(e=Or(r,e),K[e]),ie=(r,e)=>{(!e.ptrType||!e.ptr)&&ne("makeClassHandle requires ptr and ptrType");var t=!!e.smartPtrType,n=!!e.smartPtr;return t!==n&&ne("Both smartPtrType and smartPtr must be specified"),e.count={value:1},N(Object.create(r,{$$:{value:e,writable:!0}}))};function Dr(r){var e=this.getPointee(r);if(!e)return this.destructor(r),null;var t=Wr(this.registeredClass,e);if(t!==void 0){if(t.$$.count.value===0)return t.$$.ptr=e,t.$$.smartPtr=r,t.clone();var n=t.clone();return this.destructor(r),n}function i(){return this.isSmartPointer?ie(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:e,smartPtrType:this,smartPtr:r}):ie(this.registeredClass.instancePrototype,{ptrType:this,ptr:r})}var s=this.registeredClass.getActualType(e),u=Me[s];if(!u)return i.call(this);var a;this.isConst?a=u.constPointerType:a=u.pointerType;var l=Be(e,this.registeredClass,a.registeredClass);return l===null?i.call(this):this.isSmartPointer?ie(a.registeredClass.instancePrototype,{ptrType:a,ptr:l,smartPtrType:this,smartPtr:r}):ie(a.registeredClass.instancePrototype,{ptrType:a,ptr:l})}var N=r=>typeof FinalizationRegistry>"u"?(N=e=>e,r):(ge=new FinalizationRegistry(e=>{Ve(e.$$)}),N=e=>{var t=e.$$,n=!!t.smartPtr;if(n){var i={$$:t};ge.register(e,i,e)}return e},He=e=>ge.unregister(e),N(r)),Ir=()=>{Object.assign(ae.prototype,{isAliasOf(r){if(!(this instanceof ae)||!(r instanceof ae))return!1;var e=this.$$.ptrType.registeredClass,t=this.$$.ptr;r.$$=r.$$;for(var n=r.$$.ptrType.registeredClass,i=r.$$.ptr;e.baseClass;)t=e.upcast(t),e=e.baseClass;for(;n.baseClass;)i=n.upcast(i),n=n.baseClass;return e===n&&t===i},clone(){if(this.$$.ptr||he(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var r=N(Object.create(Object.getPrototypeOf(this),{$$:{value:Ar(this.$$)}}));return r.$$.count.value+=1,r.$$.deleteScheduled=!1,r},delete(){this.$$.ptr||he(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&v("Object already scheduled for deletion"),He(this),Ve(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||he(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&v("Object already scheduled for deletion"),Q.push(this),Q.length===1&&Z&&Z(_e),this.$$.deleteScheduled=!0,this}})};function ae(){}var se=(r,e)=>Object.defineProperty(e,"name",{value:r}),ze=(r,e,t)=>{if(r[e].overloadTable===void 0){var n=r[e];r[e]=function(...i){return r[e].overloadTable.hasOwnProperty(i.length)||v(`Function '${t}' called with an invalid number of arguments (${i.length}) - expects one of (${r[e].overloadTable})!`),r[e].overloadTable[i.length].apply(this,i)},r[e].overloadTable=[],r[e].overloadTable[n.argCount]=n}},Ur=(r,e,t)=>{o.hasOwnProperty(r)?((t===void 0||o[r].overloadTable!==void 0&&o[r].overloadTable[t]!==void 0)&&v(`Cannot register public name '${r}' twice`),ze(o,r,r),o.hasOwnProperty(t)&&v(`Cannot register multiple overloads of a function with the same number of arguments (${t})!`),o[r].overloadTable[t]=e):(o[r]=e,t!==void 0&&(o[r].numArguments=t))},jr=48,Hr=57,Vr=r=>{if(r===void 0)return"_unknown";r=r.replace(/[^a-zA-Z0-9_]/g,"$");var e=r.charCodeAt(0);return e>=jr&&e<=Hr?`_${r}`:r};function Br(r,e,t,n,i,s,u,a){this.name=r,this.constructor=e,this.instancePrototype=t,this.rawDestructor=n,this.baseClass=i,this.getActualType=s,this.upcast=u,this.downcast=a,this.pureVirtualFunctions=[]}var me=(r,e,t)=>{for(;e!==t;)e.upcast||v(`Expected null or instance of ${t.name}, got an instance of ${e.name}`),r=e.upcast(r),e=e.baseClass;return r};function Mr(r,e){if(e===null)return this.isReference&&v(`null is not a valid ${this.name}`),0;e.$$||v(`Cannot pass "${be(e)}" as a ${this.name}`),e.$$.ptr||v(`Cannot pass deleted object as a pointer of type ${this.name}`);var t=e.$$.ptrType.registeredClass,n=me(e.$$.ptr,t,this.registeredClass);return n}function zr(r,e){var t;if(e===null)return this.isReference&&v(`null is not a valid ${this.name}`),this.isSmartPointer?(t=this.rawConstructor(),r!==null&&r.push(this.rawDestructor,t),t):0;(!e||!e.$$)&&v(`Cannot pass "${be(e)}" as a ${this.name}`),e.$$.ptr||v(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&e.$$.ptrType.isConst&&v(`Cannot convert argument of type ${e.$$.smartPtrType?e.$$.smartPtrType.name:e.$$.ptrType.name} to parameter type ${this.name}`);var n=e.$$.ptrType.registeredClass;if(t=me(e.$$.ptr,n,this.registeredClass),this.isSmartPointer)switch(e.$$.smartPtr===void 0&&v("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:e.$$.smartPtrType===this?t=e.$$.smartPtr:v(`Cannot convert argument of type ${e.$$.smartPtrType?e.$$.smartPtrType.name:e.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:t=e.$$.smartPtr;break;case 2:if(e.$$.smartPtrType===this)t=e.$$.smartPtr;else{var i=e.clone();t=this.rawShare(t,fe.toHandle(()=>i.delete())),r!==null&&r.push(this.rawDestructor,t)}break;default:v("Unsupporting sharing policy")}return t}function Lr(r,e){if(e===null)return this.isReference&&v(`null is not a valid ${this.name}`),0;e.$$||v(`Cannot pass "${be(e)}" as a ${this.name}`),e.$$.ptr||v(`Cannot pass deleted object as a pointer of type ${this.name}`),e.$$.ptrType.isConst&&v(`Cannot convert argument of type ${e.$$.ptrType.name} to parameter type ${this.name}`);var t=e.$$.ptrType.registeredClass,n=me(e.$$.ptr,t,this.registeredClass);return n}function oe(r){return this.fromWireType(h[r>>2])}var qr=()=>{Object.assign(ue.prototype,{getPointee(r){return this.rawGetPointee&&(r=this.rawGetPointee(r)),r},destructor(r){this.rawDestructor?.(r)},argPackAdvance:O,readValueFromPointer:oe,fromWireType:Dr})};function ue(r,e,t,n,i,s,u,a,l,f,c){this.name=r,this.registeredClass=e,this.isReference=t,this.isConst=n,this.isSmartPointer=i,this.pointeeType=s,this.sharingPolicy=u,this.rawGetPointee=a,this.rawConstructor=l,this.rawShare=f,this.rawDestructor=c,!i&&e.baseClass===void 0?n?(this.toWireType=Mr,this.destructorFunction=null):(this.toWireType=Lr,this.destructorFunction=null):this.toWireType=zr}var Gr=(r,e,t)=>{o.hasOwnProperty(r)||ne("Replacing nonexistent public symbol"),o[r].overloadTable!==void 0&&t!==void 0?o[r].overloadTable[t]=e:(o[r]=e,o[r].argCount=t)},xr=(r,e,t)=>{r=r.replace(/p/g,"i");var n=o["dynCall_"+r];return n(e,...t)},le=[],Le,qe=r=>{var e=le[r];return e||(r>=le.length&&(le.length=r+1),le[r]=e=Le.get(r)),e},Jr=(r,e,t=[])=>{if(r.includes("j"))return xr(r,e,t);var n=qe(e)(...t);return n},Qr=(r,e)=>(...t)=>Jr(r,e,t),z=(r,e)=>{r=b(r);function t(){return r.includes("j")?Qr(r,e):qe(e)}var n=t();return typeof n!="function"&&v(`unknown function pointer with signature ${r}: ${e}`),n},Zr=(r,e)=>{var t=se(e,function(n){this.name=e,this.message=n;var i=new Error(n).stack;i!==void 0&&(this.stack=this.toString()+`
`+i.replace(/^Error(:[^\n]*)?\n/,""))});return t.prototype=Object.create(r.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},t},Ge,xe=r=>{var e=er(r),t=b(e);return E(e),t},ye=(r,e)=>{var t=[],n={};function i(s){if(!n[s]&&!j[s]){if(te[s]){te[s].forEach(i);return}t.push(s),n[s]=!0}}throw e.forEach(i),new Ge(`${r}: `+t.map(xe).join([", "]))},Kr=(r,e,t,n,i,s,u,a,l,f,c,d,p)=>{c=b(c),s=z(i,s),a&&=z(u,a),f&&=z(l,f),p=z(d,p);var _=Vr(c);Ur(_,function(){ye(`Cannot construct ${c} due to unbound types`,[n])}),J([r,e,t],n?[n]:[],y=>{y=y[0];var X,H;n?(X=y.registeredClass,H=X.instancePrototype):H=ae.prototype;var de=se(c,function(...Ce){if(Object.getPrototypeOf(this)!==Pe)throw new M("Use 'new' to construct "+c);if(C.constructor_body===void 0)throw new M(c+" has no accessible constructor");var ar=C.constructor_body[Ce.length];if(ar===void 0)throw new M(`Tried to invoke ctor of ${c} with invalid number of parameters (${Ce.length}) - expected (${Object.keys(C.constructor_body).toString()}) parameters instead!`);return ar.apply(this,Ce)}),Pe=Object.create(H,{constructor:{value:de}});de.prototype=Pe;var C=new Br(c,de,Pe,p,X,s,a,f);C.baseClass&&(C.baseClass.__derivedClasses??=[],C.baseClass.__derivedClasses.push(C));var Wt=new ue(c,C,!0,!1,!1),nr=new ue(c+"*",C,!1,!1,!1),ir=new ue(c+" const*",C,!1,!0,!1);return Me[r]={pointerType:nr,constPointerType:ir},Gr(_,de),[Wt,nr,ir]})},Je=(r,e)=>{for(var t=[],n=0;n<r;n++)t.push(h[e+n*4>>2]);return t},Nr=r=>{for(;r.length;){var e=r.pop(),t=r.pop();t(e)}};function Qe(r){for(var e=1;e<r.length;++e)if(r[e]!==null&&r[e].destructorFunction===void 0)return!0;return!1}function Xr(r,e){if(!(r instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof r} which is not a function`);var t=se(r.name||"unknownFunctionName",function(){});t.prototype=r.prototype;var n=new t,i=r.apply(n,e);return i instanceof Object?i:n}function Yr(r,e,t,n){for(var i=Qe(r),s=r.length,u="",a="",l=0;l<s-2;++l)u+=(l!==0?", ":"")+"arg"+l,a+=(l!==0?", ":"")+"arg"+l+"Wired";var f=`
        return function (${u}) {
        if (arguments.length !== ${s-2}) {
          throwBindingError('function ' + humanName + ' called with ' + arguments.length + ' arguments, expected ${s-2}');
        }`;i&&(f+=`var destructors = [];
`);var c=i?"destructors":"null",d=["humanName","throwBindingError","invoker","fn","runDestructors","retType","classParam"];e&&(f+="var thisWired = classParam['toWireType']("+c+`, this);
`);for(var l=0;l<s-2;++l)f+="var arg"+l+"Wired = argType"+l+"['toWireType']("+c+", arg"+l+`);
`,d.push("argType"+l);if(e&&(a="thisWired"+(a.length>0?", ":"")+a),f+=(t||n?"var rv = ":"")+"invoker(fn"+(a.length>0?", ":"")+a+`);
`,i)f+=`runDestructors(destructors);
`;else for(var l=e?1:2;l<r.length;++l){var p=l===1?"thisWired":"arg"+(l-2)+"Wired";r[l].destructorFunction!==null&&(f+=`${p}_dtor(${p});
`,d.push(`${p}_dtor`))}return t&&(f+=`var ret = retType['fromWireType'](rv);
return ret;
`),f+=`}
`,[d,f]}function Ze(r,e,t,n,i,s){var u=e.length;u<2&&v("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var a=e[1]!==null&&t!==null,l=Qe(e),f=e[0].name!=="void",c=[r,v,n,i,Nr,e[0],e[1]],d=0;d<u-2;++d)c.push(e[d+2]);if(!l)for(var d=a?1:2;d<e.length;++d)e[d].destructorFunction!==null&&c.push(e[d].destructorFunction);let[p,_]=Yr(e,a,f,s);p.push(_);var y=Xr(Function,p)(...c);return se(r,y)}var et=(r,e,t,n,i,s)=>{var u=Je(e,t);i=z(n,i),J([],[r],a=>{a=a[0];var l=`constructor ${a.name}`;if(a.registeredClass.constructor_body===void 0&&(a.registeredClass.constructor_body=[]),a.registeredClass.constructor_body[e-1]!==void 0)throw new M(`Cannot register multiple constructors with identical number of parameters (${e-1}) for class '${a.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return a.registeredClass.constructor_body[e-1]=()=>{ye(`Cannot construct ${a.name} due to unbound types`,u)},J([],u,f=>(f.splice(1,0,null),a.registeredClass.constructor_body[e-1]=Ze(l,f,null,i,s),[])),[]})},rt=r=>{r=r.trim();const e=r.indexOf("(");return e!==-1?r.substr(0,e):r},tt=(r,e,t,n,i,s,u,a,l)=>{var f=Je(t,n);e=b(e),e=rt(e),s=z(i,s),J([],[r],c=>{c=c[0];var d=`${c.name}.${e}`;e.startsWith("@@")&&(e=Symbol[e.substring(2)]),a&&c.registeredClass.pureVirtualFunctions.push(e);function p(){ye(`Cannot call ${d} due to unbound types`,f)}var _=c.registeredClass.instancePrototype,y=_[e];return y===void 0||y.overloadTable===void 0&&y.className!==c.name&&y.argCount===t-2?(p.argCount=t-2,p.className=c.name,_[e]=p):(ze(_,e,d),_[e].overloadTable[t-2]=p),J([],f,X=>{var H=Ze(d,X,c,s,u,l);return _[e].overloadTable===void 0?(H.argCount=t-2,_[e]=H):_[e].overloadTable[t-2]=H,[]}),[]})},$e=[],W=[],nt=r=>{r>9&&--W[r+1]===0&&(W[r]=void 0,$e.push(r))},it=()=>W.length/2-5-$e.length,at=()=>{W.push(0,1,void 0,1,null,1,!0,1,!1,1),o.count_emval_handles=it},fe={toValue:r=>(r||v("Cannot use deleted val. handle = "+r),W[r]),toHandle:r=>{switch(r){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const e=$e.pop()||W.length;return W[e]=r,W[e+1]=1,e}}}},st={name:"emscripten::val",fromWireType:r=>{var e=fe.toValue(r);return nt(r),e},toWireType:(r,e)=>fe.toHandle(e),argPackAdvance:O,readValueFromPointer:oe,destructorFunction:null},Ke=r=>F(r,st),be=r=>{if(r===null)return"null";var e=typeof r;return e==="object"||e==="array"||e==="function"?r.toString():""+r},ot=(r,e)=>{switch(e){case 4:return function(t){return this.fromWireType(Fe[t>>2])};case 8:return function(t){return this.fromWireType(Re[t>>3])};default:throw new TypeError(`invalid float width (${e}): ${r}`)}},ut=(r,e,t)=>{e=b(e),F(r,{name:e,fromWireType:n=>n,toWireType:(n,i)=>i,argPackAdvance:O,readValueFromPointer:ot(e,t),destructorFunction:null})},lt=(r,e,t)=>{switch(e){case 1:return t?n=>D[n]:n=>g[n];case 2:return t?n=>q[n>>1]:n=>re[n>>1];case 4:return t?n=>G[n>>2]:n=>h[n>>2];default:throw new TypeError(`invalid integer width (${e}): ${r}`)}},ft=(r,e,t,n,i)=>{e=b(e);var s=c=>c;if(n===0){var u=32-8*t;s=c=>c<<u>>>u}var a=e.includes("unsigned"),l=(c,d)=>{},f;a?f=function(c,d){return l(d,this.name),d>>>0}:f=function(c,d){return l(d,this.name),d},F(r,{name:e,fromWireType:s,toWireType:f,argPackAdvance:O,readValueFromPointer:lt(e,t,n!==0),destructorFunction:null})},ct=(r,e,t)=>{var n=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],i=n[e];function s(u){var a=h[u>>2],l=h[u+4>>2];return new i(D.buffer,l,a)}t=b(t),F(r,{name:t,fromWireType:s,argPackAdvance:O,readValueFromPointer:s},{ignoreDuplicateRegistrations:!0})},dt=(r,e)=>{Ke(r)},vt=(r,e,t,n)=>{if(!(n>0))return 0;for(var i=t,s=t+n-1,u=0;u<r.length;++u){var a=r.charCodeAt(u);if(a>=55296&&a<=57343){var l=r.charCodeAt(++u);a=65536+((a&1023)<<10)|l&1023}if(a<=127){if(t>=s)break;e[t++]=a}else if(a<=2047){if(t+1>=s)break;e[t++]=192|a>>6,e[t++]=128|a&63}else if(a<=65535){if(t+2>=s)break;e[t++]=224|a>>12,e[t++]=128|a>>6&63,e[t++]=128|a&63}else{if(t+3>=s)break;e[t++]=240|a>>18,e[t++]=128|a>>12&63,e[t++]=128|a>>6&63,e[t++]=128|a&63}}return e[t]=0,t-i},pt=(r,e,t)=>vt(r,g,e,t),ht=r=>{for(var e=0,t=0;t<r.length;++t){var n=r.charCodeAt(t);n<=127?e++:n<=2047?e+=2:n>=55296&&n<=57343?(e+=4,++t):e+=3}return e},Ne=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,gt=(r,e,t)=>{for(var n=e+t,i=e;r[i]&&!(i>=n);)++i;if(i-e>16&&r.buffer&&Ne)return Ne.decode(r.subarray(e,i));for(var s="";e<i;){var u=r[e++];if(!(u&128)){s+=String.fromCharCode(u);continue}var a=r[e++]&63;if((u&224)==192){s+=String.fromCharCode((u&31)<<6|a);continue}var l=r[e++]&63;if((u&240)==224?u=(u&15)<<12|a<<6|l:u=(u&7)<<18|a<<12|l<<6|r[e++]&63,u<65536)s+=String.fromCharCode(u);else{var f=u-65536;s+=String.fromCharCode(55296|f>>10,56320|f&1023)}}return s},_t=(r,e)=>r?gt(g,r,e):"",mt=(r,e)=>{e=b(e);var t=e==="std::string";F(r,{name:e,fromWireType(n){var i=h[n>>2],s=n+4,u;if(t)for(var a=s,l=0;l<=i;++l){var f=s+l;if(l==i||g[f]==0){var c=f-a,d=_t(a,c);u===void 0?u=d:(u+="\0",u+=d),a=f+1}}else{for(var p=new Array(i),l=0;l<i;++l)p[l]=String.fromCharCode(g[s+l]);u=p.join("")}return E(n),u},toWireType(n,i){i instanceof ArrayBuffer&&(i=new Uint8Array(i));var s,u=typeof i=="string";u||i instanceof Uint8Array||i instanceof Uint8ClampedArray||i instanceof Int8Array||v("Cannot pass non-string to std::string"),t&&u?s=ht(i):s=i.length;var a=we(4+s+1),l=a+4;if(h[a>>2]=s,t&&u)pt(i,l,s+1);else if(u)for(var f=0;f<s;++f){var c=i.charCodeAt(f);c>255&&(E(l),v("String has UTF-16 code units that do not fit in 8 bits")),g[l+f]=c}else for(var f=0;f<s;++f)g[l+f]=i[f];return n!==null&&n.push(E,a),a},argPackAdvance:O,readValueFromPointer:oe,destructorFunction(n){E(n)}})},Xe=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,yt=(r,e)=>{for(var t=r,n=t>>1,i=n+e/2;!(n>=i)&&re[n];)++n;if(t=n<<1,t-r>32&&Xe)return Xe.decode(g.subarray(r,t));for(var s="",u=0;!(u>=e/2);++u){var a=q[r+u*2>>1];if(a==0)break;s+=String.fromCharCode(a)}return s},$t=(r,e,t)=>{if(t??=2147483647,t<2)return 0;t-=2;for(var n=e,i=t<r.length*2?t/2:r.length,s=0;s<i;++s){var u=r.charCodeAt(s);q[e>>1]=u,e+=2}return q[e>>1]=0,e-n},bt=r=>r.length*2,wt=(r,e)=>{for(var t=0,n="";!(t>=e/4);){var i=G[r+t*4>>2];if(i==0)break;if(++t,i>=65536){var s=i-65536;n+=String.fromCharCode(55296|s>>10,56320|s&1023)}else n+=String.fromCharCode(i)}return n},Pt=(r,e,t)=>{if(t??=2147483647,t<4)return 0;for(var n=e,i=n+t-4,s=0;s<r.length;++s){var u=r.charCodeAt(s);if(u>=55296&&u<=57343){var a=r.charCodeAt(++s);u=65536+((u&1023)<<10)|a&1023}if(G[e>>2]=u,e+=4,e+4>i)break}return G[e>>2]=0,e-n},Ct=r=>{for(var e=0,t=0;t<r.length;++t){var n=r.charCodeAt(t);n>=55296&&n<=57343&&++t,e+=4}return e},Tt=(r,e,t)=>{t=b(t);var n,i,s,u;e===2?(n=yt,i=$t,u=bt,s=a=>re[a>>1]):e===4&&(n=wt,i=Pt,u=Ct,s=a=>h[a>>2]),F(r,{name:t,fromWireType:a=>{for(var l=h[a>>2],f,c=a+4,d=0;d<=l;++d){var p=a+4+d*e;if(d==l||s(p)==0){var _=p-c,y=n(c,_);f===void 0?f=y:(f+="\0",f+=y),c=p+e}}return E(a),f},toWireType:(a,l)=>{typeof l!="string"&&v(`Cannot pass non-string to C++ string type ${t}`);var f=u(l),c=we(4+f+e);return h[c>>2]=f/e,i(l,c+4,f+e),a!==null&&a.push(E,c),c},argPackAdvance:O,readValueFromPointer:oe,destructorFunction(a){E(a)}})},At=(r,e)=>{e=b(e),F(r,{isVoid:!0,name:e,argPackAdvance:0,fromWireType:()=>{},toWireType:(t,n)=>{}})},Ft=(r,e,t)=>g.copyWithin(r,e,e+t),Rt=(r,e)=>{var t=j[r];return t===void 0&&v(`${e} has unknown type ${xe(r)}`),t},Et=(r,e)=>{r=Rt(r,"_emval_take_value");var t=r.readValueFromPointer(e);return fe.toHandle(t)},St=()=>{ve("")},kt=r=>{ve("OOM")},Ot=r=>{g.length,kt()};Pr(),M=o.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError"}},je=o.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError"}},Ir(),kr(),qr(),Ge=o.UnboundTypeError=Zr(Error,"UnboundTypeError"),at();var Ye={__cxa_throw:br,_embind_register_bigint:wr,_embind_register_bool:Tr,_embind_register_class:Kr,_embind_register_class_constructor:et,_embind_register_class_function:tt,_embind_register_emval:Ke,_embind_register_float:ut,_embind_register_integer:ft,_embind_register_memory_view:ct,_embind_register_optional:dt,_embind_register_std_string:mt,_embind_register_std_wstring:Tt,_embind_register_void:At,_emscripten_memcpy_js:Ft,_emval_take_value:Et,abort:St,emscripten_resize_heap:Ot},R=yr(),er=r=>(er=R.__getTypeName)(r),we=r=>(we=R.malloc)(r),E=r=>(E=R.free)(r),rr=r=>(rr=R.__cxa_is_pointer_type)(r),ce;x=function r(){ce||tr(),ce||(x=r)};function tr(){if(I>0||(or(),I>0))return;function r(){ce||(ce=!0,o.calledRun=!0,!Ae&&(ur(),w(o),o.onRuntimeInitialized&&o.onRuntimeInitialized(),lr()))}o.setStatus?(o.setStatus("Running..."),setTimeout(function(){setTimeout(function(){o.setStatus("")},1),r()},1)):r()}if(o.preInit)for(typeof o.preInit=="function"&&(o.preInit=[o.preInit]);o.preInit.length>0;)o.preInit.pop()();return tr(),$=T,$}})();const Ut=(S,k,$)=>{const o=new k;$.forEach(T=>o.push_back(T));const w=S.forward(o),P=[];for(let T=0;T<w.size();T++)P.push(w.get(T));return o.delete(),w.delete(),P};(async()=>{const{AsmCore:S,Vector:k}=await It();addEventListener("message",async $=>{const{module:o,algorithm:w,genomes:P}=$.data,{default:T}=await Dt(Object.assign({"../demo/modules/flappy.ts":()=>import("./flappy-Dzni_9wk.js"),"../demo/modules/race.ts":()=>Promise.resolve().then(function(){return jt})}),`../demo/modules/${o}.ts`),Y=[];for(let V=0;V<P.length;V++){const m=new S(w);m.buildGenome(P[V]);let ee=-1;try{ee=await T(A=>Ut(m,k,A),void 0)}catch(A){console.log(A)}m.delete(),Y.push(ee)}postMessage(Y)}),postMessage(!0)})();var jt=Object.freeze({__proto__:null});
