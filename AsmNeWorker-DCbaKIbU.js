var en=(j,U)=>{const A=j[U];return A?typeof A=="function"?A():Promise.resolve(A):new Promise((u,F)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(F.bind(null,new Error("Unknown variable dynamic import: "+U)))})},rn=(()=>{var j=import.meta.url;return function(U={}){var A,u=U,F,E,O=new Promise((r,e)=>{F=r,E=e}),oe=Object.assign({},u),x="./this.program",C="";function J(r){return u.locateFile?u.locateFile(r,C):C+r}var X;typeof document<"u"&&document.currentScript&&(C=document.currentScript.src),j&&(C=j),C.startsWith("blob:")?C="":C=C.substr(0,C.replace(/[?#].*/,"").lastIndexOf("/")+1),X=(r,e,t)=>{fetch(r,{credentials:"same-origin"}).then(n=>n.ok?n.arrayBuffer():Promise.reject(new Error(n.status+" : "+n.url))).then(e,t)},u.print||console.log.bind(console);var I=u.printErr||console.error.bind(console);Object.assign(u,oe),oe=null,u.arguments&&u.arguments,u.thisProgram&&(x=u.thisProgram),u.quit&&u.quit;var Z;u.wasmBinary&&(Z=u.wasmBinary);var We,ke=!1,R,w,K,ue,$,_,je,Ue;function _r(){var r=We.buffer;u.HEAP8=R=new Int8Array(r),u.HEAP16=K=new Int16Array(r),u.HEAPU8=w=new Uint8Array(r),u.HEAPU16=ue=new Uint16Array(r),u.HEAP32=$=new Int32Array(r),u.HEAPU32=_=new Uint32Array(r),u.HEAPF32=je=new Float32Array(r),u.HEAPF64=Ue=new Float64Array(r)}var Ie=[],He=[],Me=[];function mr(){if(u.preRun)for(typeof u.preRun=="function"&&(u.preRun=[u.preRun]);u.preRun.length;)wr(u.preRun.shift());$e(Ie)}function yr(){$e(He)}function br(){if(u.postRun)for(typeof u.postRun=="function"&&(u.postRun=[u.postRun]);u.postRun.length;)Pr(u.postRun.shift());$e(Me)}function wr(r){Ie.unshift(r)}function $r(r){He.unshift(r)}function Pr(r){Me.unshift(r)}var B=0,Q=null;function Cr(r){B++,u.monitorRunDependencies?.(B)}function Tr(r){if(B--,u.monitorRunDependencies?.(B),B==0&&Q){var e=Q;Q=null,e()}}function le(r){u.onAbort?.(r),r="Aborted("+r+")",I(r),ke=!0,r+=". Build with -sASSERTIONS for more info.";var e=new WebAssembly.RuntimeError(r);throw E(e),e}var Ar="data:application/octet-stream;base64,",Ye=r=>r.startsWith(Ar);function Sr(){if(u.locateFile){var r="asm_core.wasm";return Ye(r)?r:J(r)}return new URL(""+new URL("asm_core-dUlu3oOq.wasm",import.meta.url).href,import.meta.url).href}var fe;function Ve(r){if(r==fe&&Z)return new Uint8Array(Z);throw"both async and sync fetching of the wasm failed"}function Fr(r){return Z?Promise.resolve().then(()=>Ve(r)):new Promise((e,t)=>{X(r,n=>e(new Uint8Array(n)),n=>{try{e(Ve(r))}catch(i){t(i)}})})}function Be(r,e,t){return Fr(r).then(n=>WebAssembly.instantiate(n,e)).then(t,n=>{I(`failed to asynchronously prepare wasm: ${n}`),le(n)})}function Er(r,e,t,n){return!r&&typeof WebAssembly.instantiateStreaming=="function"&&!Ye(e)&&typeof fetch=="function"?fetch(e,{credentials:"same-origin"}).then(i=>{var s=WebAssembly.instantiateStreaming(i,t);return s.then(n,function(o){return I(`wasm streaming compile failed: ${o}`),I("falling back to ArrayBuffer instantiation"),Be(e,t,n)})}):Be(e,t,n)}function Rr(){return{env:vr,wasi_snapshot_preview1:vr}}function Dr(){var r=Rr();function e(n,i){return T=n.exports,We=T.memory,_r(),Ze=T.__indirect_function_table,$r(T.__wasm_call_ctors),Tr(),T}Cr();function t(n){e(n.instance)}if(u.instantiateWasm)try{return u.instantiateWasm(r,e)}catch(n){I(`Module.instantiateWasm callback failed with error: ${n}`),E(n)}return fe||(fe=Sr()),Er(Z,fe,r,t).catch(E),{}}var $e=r=>{for(;r.length>0;)r.shift()(u)};u.noExitRuntime;class Or{constructor(e){this.excPtr=e,this.ptr=e-24}set_type(e){_[this.ptr+4>>2]=e}get_type(){return _[this.ptr+4>>2]}set_destructor(e){_[this.ptr+8>>2]=e}get_destructor(){return _[this.ptr+8>>2]}set_caught(e){e=e?1:0,R[this.ptr+12]=e}get_caught(){return R[this.ptr+12]!=0}set_rethrown(e){e=e?1:0,R[this.ptr+13]=e}get_rethrown(){return R[this.ptr+13]!=0}init(e,t){this.set_adjusted_ptr(0),this.set_type(e),this.set_destructor(t)}set_adjusted_ptr(e){_[this.ptr+16>>2]=e}get_adjusted_ptr(){return _[this.ptr+16>>2]}get_exception_ptr(){var e=pr(this.get_type());if(e)return _[this.excPtr>>2];var t=this.get_adjusted_ptr();return t!==0?t:this.excPtr}}var Le=0,Wr=(r,e,t)=>{var n=new Or(r);throw n.init(e,t),Le=r,Le},kr=()=>{le("")},jr=(r,e,t,n,i)=>{},Ur=()=>{for(var r=new Array(256),e=0;e<256;++e)r[e]=String.fromCharCode(e);ze=r},ze,S=r=>{for(var e="",t=r;w[t];)e+=ze[w[t++]];return e},N={},L={},ce={},q,h=r=>{throw new q(r)},Ne,ve=r=>{throw new Ne(r)},ee=(r,e,t)=>{r.forEach(function(a){ce[a]=e});function n(a){var f=t(a);f.length!==r.length&&ve("Mismatched type converter count");for(var c=0;c<r.length;++c)W(r[c],f[c])}var i=new Array(e.length),s=[],o=0;e.forEach((a,f)=>{L.hasOwnProperty(a)?i[f]=L[a]:(s.push(a),N.hasOwnProperty(a)||(N[a]=[]),N[a].push(()=>{i[f]=L[a],++o,o===s.length&&n(i)}))}),s.length===0&&n(i)};function Ir(r,e,t={}){var n=e.name;if(r||h(`type "${n}" must have a positive integer typeid pointer`),L.hasOwnProperty(r)){if(t.ignoreDuplicateRegistrations)return;h(`Cannot register type '${n}' twice`)}if(L[r]=e,delete ce[r],N.hasOwnProperty(r)){var i=N[r];delete N[r],i.forEach(s=>s())}}function W(r,e,t={}){if(!("argPackAdvance"in e))throw new TypeError("registerType registeredInstance requires argPackAdvance");return Ir(r,e,t)}var H=8,Hr=(r,e,t,n)=>{e=S(e),W(r,{name:e,fromWireType:function(i){return!!i},toWireType:function(i,s){return s?t:n},argPackAdvance:H,readValueFromPointer:function(i){return this.fromWireType(w[i])},destructorFunction:null})},Mr=r=>({count:r.count,deleteScheduled:r.deleteScheduled,preservePointerOnDelete:r.preservePointerOnDelete,ptr:r.ptr,ptrType:r.ptrType,smartPtr:r.smartPtr,smartPtrType:r.smartPtrType}),Pe=r=>{function e(t){return t.$$.ptrType.registeredClass.name}h(e(r)+" instance already deleted")},Ce=!1,qe=r=>{},Yr=r=>{r.smartPtr?r.smartPtrType.rawDestructor(r.smartPtr):r.ptrType.registeredClass.rawDestructor(r.ptr)},Ge=r=>{r.count.value-=1;var e=r.count.value===0;e&&Yr(r)},xe=(r,e,t)=>{if(e===t)return r;if(t.baseClass===void 0)return null;var n=xe(r,e,t.baseClass);return n===null?null:t.downcast(n)},Je={},Vr=()=>Object.keys(ne).length,Br=()=>{var r=[];for(var e in ne)ne.hasOwnProperty(e)&&r.push(ne[e]);return r},re=[],Te=()=>{for(;re.length;){var r=re.pop();r.$$.deleteScheduled=!1,r.delete()}},te,Lr=r=>{te=r,re.length&&te&&te(Te)},zr=()=>{u.getInheritedInstanceCount=Vr,u.getLiveInheritedInstances=Br,u.flushPendingDeletes=Te,u.setDelayFunction=Lr},ne={},Nr=(r,e)=>{for(e===void 0&&h("ptr should not be undefined");r.baseClass;)e=r.upcast(e),r=r.baseClass;return e},qr=(r,e)=>(e=Nr(r,e),ne[e]),de=(r,e)=>{(!e.ptrType||!e.ptr)&&ve("makeClassHandle requires ptr and ptrType");var t=!!e.smartPtrType,n=!!e.smartPtr;return t!==n&&ve("Both smartPtrType and smartPtr must be specified"),e.count={value:1},ie(Object.create(r,{$$:{value:e,writable:!0}}))};function Gr(r){var e=this.getPointee(r);if(!e)return this.destructor(r),null;var t=qr(this.registeredClass,e);if(t!==void 0){if(t.$$.count.value===0)return t.$$.ptr=e,t.$$.smartPtr=r,t.clone();var n=t.clone();return this.destructor(r),n}function i(){return this.isSmartPointer?de(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:e,smartPtrType:this,smartPtr:r}):de(this.registeredClass.instancePrototype,{ptrType:this,ptr:r})}var s=this.registeredClass.getActualType(e),o=Je[s];if(!o)return i.call(this);var a;this.isConst?a=o.constPointerType:a=o.pointerType;var f=xe(e,this.registeredClass,a.registeredClass);return f===null?i.call(this):this.isSmartPointer?de(a.registeredClass.instancePrototype,{ptrType:a,ptr:f,smartPtrType:this,smartPtr:r}):de(a.registeredClass.instancePrototype,{ptrType:a,ptr:f})}var ie=r=>typeof FinalizationRegistry>"u"?(ie=e=>e,r):(Ce=new FinalizationRegistry(e=>{Ge(e.$$)}),ie=e=>{var t=e.$$,n=!!t.smartPtr;if(n){var i={$$:t};Ce.register(e,i,e)}return e},qe=e=>Ce.unregister(e),ie(r)),xr=()=>{Object.assign(pe.prototype,{isAliasOf(r){if(!(this instanceof pe)||!(r instanceof pe))return!1;var e=this.$$.ptrType.registeredClass,t=this.$$.ptr;r.$$=r.$$;for(var n=r.$$.ptrType.registeredClass,i=r.$$.ptr;e.baseClass;)t=e.upcast(t),e=e.baseClass;for(;n.baseClass;)i=n.upcast(i),n=n.baseClass;return e===n&&t===i},clone(){if(this.$$.ptr||Pe(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var r=ie(Object.create(Object.getPrototypeOf(this),{$$:{value:Mr(this.$$)}}));return r.$$.count.value+=1,r.$$.deleteScheduled=!1,r},delete(){this.$$.ptr||Pe(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&h("Object already scheduled for deletion"),qe(this),Ge(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||Pe(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&h("Object already scheduled for deletion"),re.push(this),re.length===1&&te&&te(Te),this.$$.deleteScheduled=!0,this}})};function pe(){}var ge=(r,e)=>Object.defineProperty(e,"name",{value:r}),Xe=(r,e,t)=>{if(r[e].overloadTable===void 0){var n=r[e];r[e]=function(...i){return r[e].overloadTable.hasOwnProperty(i.length)||h(`Function '${t}' called with an invalid number of arguments (${i.length}) - expects one of (${r[e].overloadTable})!`),r[e].overloadTable[i.length].apply(this,i)},r[e].overloadTable=[],r[e].overloadTable[n.argCount]=n}},Jr=(r,e,t)=>{u.hasOwnProperty(r)?((t===void 0||u[r].overloadTable!==void 0&&u[r].overloadTable[t]!==void 0)&&h(`Cannot register public name '${r}' twice`),Xe(u,r,r),u.hasOwnProperty(t)&&h(`Cannot register multiple overloads of a function with the same number of arguments (${t})!`),u[r].overloadTable[t]=e):(u[r]=e,t!==void 0&&(u[r].numArguments=t))},Xr=48,Zr=57,Kr=r=>{if(r===void 0)return"_unknown";r=r.replace(/[^a-zA-Z0-9_]/g,"$");var e=r.charCodeAt(0);return e>=Xr&&e<=Zr?`_${r}`:r};function Qr(r,e,t,n,i,s,o,a){this.name=r,this.constructor=e,this.instancePrototype=t,this.rawDestructor=n,this.baseClass=i,this.getActualType=s,this.upcast=o,this.downcast=a,this.pureVirtualFunctions=[]}var Ae=(r,e,t)=>{for(;e!==t;)e.upcast||h(`Expected null or instance of ${t.name}, got an instance of ${e.name}`),r=e.upcast(r),e=e.baseClass;return r};function et(r,e){if(e===null)return this.isReference&&h(`null is not a valid ${this.name}`),0;e.$$||h(`Cannot pass "${Ee(e)}" as a ${this.name}`),e.$$.ptr||h(`Cannot pass deleted object as a pointer of type ${this.name}`);var t=e.$$.ptrType.registeredClass,n=Ae(e.$$.ptr,t,this.registeredClass);return n}function rt(r,e){var t;if(e===null)return this.isReference&&h(`null is not a valid ${this.name}`),this.isSmartPointer?(t=this.rawConstructor(),r!==null&&r.push(this.rawDestructor,t),t):0;(!e||!e.$$)&&h(`Cannot pass "${Ee(e)}" as a ${this.name}`),e.$$.ptr||h(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&e.$$.ptrType.isConst&&h(`Cannot convert argument of type ${e.$$.smartPtrType?e.$$.smartPtrType.name:e.$$.ptrType.name} to parameter type ${this.name}`);var n=e.$$.ptrType.registeredClass;if(t=Ae(e.$$.ptr,n,this.registeredClass),this.isSmartPointer)switch(e.$$.smartPtr===void 0&&h("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:e.$$.smartPtrType===this?t=e.$$.smartPtr:h(`Cannot convert argument of type ${e.$$.smartPtrType?e.$$.smartPtrType.name:e.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:t=e.$$.smartPtr;break;case 2:if(e.$$.smartPtrType===this)t=e.$$.smartPtr;else{var i=e.clone();t=this.rawShare(t,ye.toHandle(()=>i.delete())),r!==null&&r.push(this.rawDestructor,t)}break;default:h("Unsupporting sharing policy")}return t}function tt(r,e){if(e===null)return this.isReference&&h(`null is not a valid ${this.name}`),0;e.$$||h(`Cannot pass "${Ee(e)}" as a ${this.name}`),e.$$.ptr||h(`Cannot pass deleted object as a pointer of type ${this.name}`),e.$$.ptrType.isConst&&h(`Cannot convert argument of type ${e.$$.ptrType.name} to parameter type ${this.name}`);var t=e.$$.ptrType.registeredClass,n=Ae(e.$$.ptr,t,this.registeredClass);return n}function he(r){return this.fromWireType(_[r>>2])}var nt=()=>{Object.assign(_e.prototype,{getPointee(r){return this.rawGetPointee&&(r=this.rawGetPointee(r)),r},destructor(r){this.rawDestructor?.(r)},argPackAdvance:H,readValueFromPointer:he,fromWireType:Gr})};function _e(r,e,t,n,i,s,o,a,f,c,v){this.name=r,this.registeredClass=e,this.isReference=t,this.isConst=n,this.isSmartPointer=i,this.pointeeType=s,this.sharingPolicy=o,this.rawGetPointee=a,this.rawConstructor=f,this.rawShare=c,this.rawDestructor=v,!i&&e.baseClass===void 0?n?(this.toWireType=et,this.destructorFunction=null):(this.toWireType=tt,this.destructorFunction=null):this.toWireType=rt}var it=(r,e,t)=>{u.hasOwnProperty(r)||ve("Replacing nonexistent public symbol"),u[r].overloadTable!==void 0&&t!==void 0?u[r].overloadTable[t]=e:(u[r]=e,u[r].argCount=t)},at=(r,e,t)=>{r=r.replace(/p/g,"i");var n=u["dynCall_"+r];return n(e,...t)},me=[],Ze,Ke=r=>{var e=me[r];return e||(r>=me.length&&(me.length=r+1),me[r]=e=Ze.get(r)),e},st=(r,e,t=[])=>{if(r.includes("j"))return at(r,e,t);var n=Ke(e)(...t);return n},ot=(r,e)=>(...t)=>st(r,e,t),G=(r,e)=>{r=S(r);function t(){return r.includes("j")?ot(r,e):Ke(e)}var n=t();return typeof n!="function"&&h(`unknown function pointer with signature ${r}: ${e}`),n},ut=(r,e)=>{var t=ge(e,function(n){this.name=e,this.message=n;var i=new Error(n).stack;i!==void 0&&(this.stack=this.toString()+`
`+i.replace(/^Error(:[^\n]*)?\n/,""))});return t.prototype=Object.create(r.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},t},Qe,er=r=>{var e=dr(r),t=S(e);return k(e),t},Se=(r,e)=>{var t=[],n={};function i(s){if(!n[s]&&!L[s]){if(ce[s]){ce[s].forEach(i);return}t.push(s),n[s]=!0}}throw e.forEach(i),new Qe(`${r}: `+t.map(er).join([", "]))},lt=(r,e,t,n,i,s,o,a,f,c,v,p,g)=>{v=S(v),s=G(i,s),a&&=G(o,a),c&&=G(f,c),g=G(p,g);var m=Kr(v);Jr(m,function(){Se(`Cannot construct ${v} due to unbound types`,[n])}),ee([r,e,t],n?[n]:[],b=>{b=b[0];var Y,D;n?(Y=b.registeredClass,D=Y.instancePrototype):D=pe.prototype;var V=ge(v,function(...se){if(Object.getPrototypeOf(this)!==l)throw new q("Use 'new' to construct "+v);if(d.constructor_body===void 0)throw new q(v+" has no accessible constructor");var hr=d.constructor_body[se.length];if(hr===void 0)throw new q(`Tried to invoke ctor of ${v} with invalid number of parameters (${se.length}) - expected (${Object.keys(d.constructor_body).toString()}) parameters instead!`);return hr.apply(this,se)}),l=Object.create(D,{constructor:{value:V}});V.prototype=l;var d=new Qr(v,V,l,g,Y,s,a,c);d.baseClass&&(d.baseClass.__derivedClasses??=[],d.baseClass.__derivedClasses.push(d));var P=new _e(v,d,!0,!1,!1),y=new _e(v+"*",d,!1,!1,!1),z=new _e(v+" const*",d,!1,!0,!1);return Je[r]={pointerType:y,constPointerType:z},it(m,V),[P,y,z]})},rr=(r,e)=>{for(var t=[],n=0;n<r;n++)t.push(_[e+n*4>>2]);return t},ft=r=>{for(;r.length;){var e=r.pop(),t=r.pop();t(e)}};function tr(r){for(var e=1;e<r.length;++e)if(r[e]!==null&&r[e].destructorFunction===void 0)return!0;return!1}function ct(r,e){if(!(r instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof r} which is not a function`);var t=ge(r.name||"unknownFunctionName",function(){});t.prototype=r.prototype;var n=new t,i=r.apply(n,e);return i instanceof Object?i:n}function vt(r,e,t,n){for(var i=tr(r),s=r.length,o="",a="",f=0;f<s-2;++f)o+=(f!==0?", ":"")+"arg"+f,a+=(f!==0?", ":"")+"arg"+f+"Wired";var c=`
        return function (${o}) {
        if (arguments.length !== ${s-2}) {
          throwBindingError('function ' + humanName + ' called with ' + arguments.length + ' arguments, expected ${s-2}');
        }`;i&&(c+=`var destructors = [];
`);var v=i?"destructors":"null",p=["humanName","throwBindingError","invoker","fn","runDestructors","retType","classParam"];e&&(c+="var thisWired = classParam['toWireType']("+v+`, this);
`);for(var f=0;f<s-2;++f)c+="var arg"+f+"Wired = argType"+f+"['toWireType']("+v+", arg"+f+`);
`,p.push("argType"+f);if(e&&(a="thisWired"+(a.length>0?", ":"")+a),c+=(t||n?"var rv = ":"")+"invoker(fn"+(a.length>0?", ":"")+a+`);
`,i)c+=`runDestructors(destructors);
`;else for(var f=e?1:2;f<r.length;++f){var g=f===1?"thisWired":"arg"+(f-2)+"Wired";r[f].destructorFunction!==null&&(c+=`${g}_dtor(${g});
`,p.push(`${g}_dtor`))}return t&&(c+=`var ret = retType['fromWireType'](rv);
return ret;
`),c+=`}
`,[p,c]}function nr(r,e,t,n,i,s){var o=e.length;o<2&&h("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var a=e[1]!==null&&t!==null,f=tr(e),c=e[0].name!=="void",v=[r,h,n,i,ft,e[0],e[1]],p=0;p<o-2;++p)v.push(e[p+2]);if(!f)for(var p=a?1:2;p<e.length;++p)e[p].destructorFunction!==null&&v.push(e[p].destructorFunction);let[g,m]=vt(e,a,c,s);g.push(m);var b=ct(Function,g)(...v);return ge(r,b)}var dt=(r,e,t,n,i,s)=>{var o=rr(e,t);i=G(n,i),ee([],[r],a=>{a=a[0];var f=`constructor ${a.name}`;if(a.registeredClass.constructor_body===void 0&&(a.registeredClass.constructor_body=[]),a.registeredClass.constructor_body[e-1]!==void 0)throw new q(`Cannot register multiple constructors with identical number of parameters (${e-1}) for class '${a.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return a.registeredClass.constructor_body[e-1]=()=>{Se(`Cannot construct ${a.name} due to unbound types`,o)},ee([],o,c=>(c.splice(1,0,null),a.registeredClass.constructor_body[e-1]=nr(f,c,null,i,s),[])),[]})},pt=r=>{r=r.trim();const e=r.indexOf("(");return e!==-1?r.substr(0,e):r},gt=(r,e,t,n,i,s,o,a,f)=>{var c=rr(t,n);e=S(e),e=pt(e),s=G(i,s),ee([],[r],v=>{v=v[0];var p=`${v.name}.${e}`;e.startsWith("@@")&&(e=Symbol[e.substring(2)]),a&&v.registeredClass.pureVirtualFunctions.push(e);function g(){Se(`Cannot call ${p} due to unbound types`,c)}var m=v.registeredClass.instancePrototype,b=m[e];return b===void 0||b.overloadTable===void 0&&b.className!==v.name&&b.argCount===t-2?(g.argCount=t-2,g.className=v.name,m[e]=g):(Xe(m,e,p),m[e].overloadTable[t-2]=g),ee([],c,Y=>{var D=nr(p,Y,v,s,o,f);return m[e].overloadTable===void 0?(D.argCount=t-2,m[e]=D):m[e].overloadTable[t-2]=D,[]}),[]})},Fe=[],M=[],ht=r=>{r>9&&--M[r+1]===0&&(M[r]=void 0,Fe.push(r))},_t=()=>M.length/2-5-Fe.length,mt=()=>{M.push(0,1,void 0,1,null,1,!0,1,!1,1),u.count_emval_handles=_t},ye={toValue:r=>(r||h("Cannot use deleted val. handle = "+r),M[r]),toHandle:r=>{switch(r){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const e=Fe.pop()||M.length;return M[e]=r,M[e+1]=1,e}}}},yt={name:"emscripten::val",fromWireType:r=>{var e=ye.toValue(r);return ht(r),e},toWireType:(r,e)=>ye.toHandle(e),argPackAdvance:H,readValueFromPointer:he,destructorFunction:null},ir=r=>W(r,yt),Ee=r=>{if(r===null)return"null";var e=typeof r;return e==="object"||e==="array"||e==="function"?r.toString():""+r},bt=(r,e)=>{switch(e){case 4:return function(t){return this.fromWireType(je[t>>2])};case 8:return function(t){return this.fromWireType(Ue[t>>3])};default:throw new TypeError(`invalid float width (${e}): ${r}`)}},wt=(r,e,t)=>{e=S(e),W(r,{name:e,fromWireType:n=>n,toWireType:(n,i)=>i,argPackAdvance:H,readValueFromPointer:bt(e,t),destructorFunction:null})},$t=(r,e,t)=>{switch(e){case 1:return t?n=>R[n]:n=>w[n];case 2:return t?n=>K[n>>1]:n=>ue[n>>1];case 4:return t?n=>$[n>>2]:n=>_[n>>2];default:throw new TypeError(`invalid integer width (${e}): ${r}`)}},Pt=(r,e,t,n,i)=>{e=S(e);var s=v=>v;if(n===0){var o=32-8*t;s=v=>v<<o>>>o}var a=e.includes("unsigned"),f=(v,p)=>{},c;a?c=function(v,p){return f(p,this.name),p>>>0}:c=function(v,p){return f(p,this.name),p},W(r,{name:e,fromWireType:s,toWireType:c,argPackAdvance:H,readValueFromPointer:$t(e,t,n!==0),destructorFunction:null})},Ct=(r,e,t)=>{var n=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],i=n[e];function s(o){var a=_[o>>2],f=_[o+4>>2];return new i(R.buffer,f,a)}t=S(t),W(r,{name:t,fromWireType:s,argPackAdvance:H,readValueFromPointer:s},{ignoreDuplicateRegistrations:!0})},Tt=(r,e)=>{ir(r)},ar=(r,e,t,n)=>{if(!(n>0))return 0;for(var i=t,s=t+n-1,o=0;o<r.length;++o){var a=r.charCodeAt(o);if(a>=55296&&a<=57343){var f=r.charCodeAt(++o);a=65536+((a&1023)<<10)|f&1023}if(a<=127){if(t>=s)break;e[t++]=a}else if(a<=2047){if(t+1>=s)break;e[t++]=192|a>>6,e[t++]=128|a&63}else if(a<=65535){if(t+2>=s)break;e[t++]=224|a>>12,e[t++]=128|a>>6&63,e[t++]=128|a&63}else{if(t+3>=s)break;e[t++]=240|a>>18,e[t++]=128|a>>12&63,e[t++]=128|a>>6&63,e[t++]=128|a&63}}return e[t]=0,t-i},At=(r,e,t)=>ar(r,w,e,t),sr=r=>{for(var e=0,t=0;t<r.length;++t){var n=r.charCodeAt(t);n<=127?e++:n<=2047?e+=2:n>=55296&&n<=57343?(e+=4,++t):e+=3}return e},or=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,St=(r,e,t)=>{for(var n=e+t,i=e;r[i]&&!(i>=n);)++i;if(i-e>16&&r.buffer&&or)return or.decode(r.subarray(e,i));for(var s="";e<i;){var o=r[e++];if(!(o&128)){s+=String.fromCharCode(o);continue}var a=r[e++]&63;if((o&224)==192){s+=String.fromCharCode((o&31)<<6|a);continue}var f=r[e++]&63;if((o&240)==224?o=(o&15)<<12|a<<6|f:o=(o&7)<<18|a<<12|f<<6|r[e++]&63,o<65536)s+=String.fromCharCode(o);else{var c=o-65536;s+=String.fromCharCode(55296|c>>10,56320|c&1023)}}return s},Re=(r,e)=>r?St(w,r,e):"",Ft=(r,e)=>{e=S(e);var t=e==="std::string";W(r,{name:e,fromWireType(n){var i=_[n>>2],s=n+4,o;if(t)for(var a=s,f=0;f<=i;++f){var c=s+f;if(f==i||w[c]==0){var v=c-a,p=Re(a,v);o===void 0?o=p:(o+="\0",o+=p),a=c+1}}else{for(var g=new Array(i),f=0;f<i;++f)g[f]=String.fromCharCode(w[s+f]);o=g.join("")}return k(n),o},toWireType(n,i){i instanceof ArrayBuffer&&(i=new Uint8Array(i));var s,o=typeof i=="string";o||i instanceof Uint8Array||i instanceof Uint8ClampedArray||i instanceof Int8Array||h("Cannot pass non-string to std::string"),t&&o?s=sr(i):s=i.length;var a=Oe(4+s+1),f=a+4;if(_[a>>2]=s,t&&o)At(i,f,s+1);else if(o)for(var c=0;c<s;++c){var v=i.charCodeAt(c);v>255&&(k(f),h("String has UTF-16 code units that do not fit in 8 bits")),w[f+c]=v}else for(var c=0;c<s;++c)w[f+c]=i[c];return n!==null&&n.push(k,a),a},argPackAdvance:H,readValueFromPointer:he,destructorFunction(n){k(n)}})},ur=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Et=(r,e)=>{for(var t=r,n=t>>1,i=n+e/2;!(n>=i)&&ue[n];)++n;if(t=n<<1,t-r>32&&ur)return ur.decode(w.subarray(r,t));for(var s="",o=0;!(o>=e/2);++o){var a=K[r+o*2>>1];if(a==0)break;s+=String.fromCharCode(a)}return s},Rt=(r,e,t)=>{if(t??=2147483647,t<2)return 0;t-=2;for(var n=e,i=t<r.length*2?t/2:r.length,s=0;s<i;++s){var o=r.charCodeAt(s);K[e>>1]=o,e+=2}return K[e>>1]=0,e-n},Dt=r=>r.length*2,Ot=(r,e)=>{for(var t=0,n="";!(t>=e/4);){var i=$[r+t*4>>2];if(i==0)break;if(++t,i>=65536){var s=i-65536;n+=String.fromCharCode(55296|s>>10,56320|s&1023)}else n+=String.fromCharCode(i)}return n},Wt=(r,e,t)=>{if(t??=2147483647,t<4)return 0;for(var n=e,i=n+t-4,s=0;s<r.length;++s){var o=r.charCodeAt(s);if(o>=55296&&o<=57343){var a=r.charCodeAt(++s);o=65536+((o&1023)<<10)|a&1023}if($[e>>2]=o,e+=4,e+4>i)break}return $[e>>2]=0,e-n},kt=r=>{for(var e=0,t=0;t<r.length;++t){var n=r.charCodeAt(t);n>=55296&&n<=57343&&++t,e+=4}return e},jt=(r,e,t)=>{t=S(t);var n,i,s,o;e===2?(n=Et,i=Rt,o=Dt,s=a=>ue[a>>1]):e===4&&(n=Ot,i=Wt,o=kt,s=a=>_[a>>2]),W(r,{name:t,fromWireType:a=>{for(var f=_[a>>2],c,v=a+4,p=0;p<=f;++p){var g=a+4+p*e;if(p==f||s(g)==0){var m=g-v,b=n(v,m);c===void 0?c=b:(c+="\0",c+=b),v=g+e}}return k(a),c},toWireType:(a,f)=>{typeof f!="string"&&h(`Cannot pass non-string to C++ string type ${t}`);var c=o(f),v=Oe(4+c+e);return _[v>>2]=c/e,i(f,v+4,c+e),a!==null&&a.push(k,v),v},argPackAdvance:H,readValueFromPointer:he,destructorFunction(a){k(a)}})},Ut=(r,e)=>{e=S(e),W(r,{isVoid:!0,name:e,argPackAdvance:0,fromWireType:()=>{},toWireType:(t,n)=>{}})},It=(r,e,t)=>w.copyWithin(r,e,e+t),Ht=(r,e)=>{var t=L[r];return t===void 0&&h(`${e} has unknown type ${er(r)}`),t},Mt=(r,e)=>{r=Ht(r,"_emval_take_value");var t=r.readValueFromPointer(e);return ye.toHandle(t)},Yt=r=>{le("OOM")},Vt=r=>{w.length,Yt()},De={},Bt=()=>x||"./this.program",ae=()=>{if(!ae.strings){var r=(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:r,_:Bt()};for(var t in De)De[t]===void 0?delete e[t]:e[t]=De[t];var n=[];for(var t in e)n.push(`${t}=${e[t]}`);ae.strings=n}return ae.strings},Lt=(r,e)=>{for(var t=0;t<r.length;++t)R[e++]=r.charCodeAt(t);R[e]=0},zt=(r,e)=>{var t=0;return ae().forEach((n,i)=>{var s=e+t;_[r+i*4>>2]=s,Lt(n,s),t+=n.length+1}),0},Nt=(r,e)=>{var t=ae();_[r>>2]=t.length;var n=0;return t.forEach(i=>n+=i.length+1),_[e>>2]=n,0},qt=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return r=>crypto.getRandomValues(r);le("initRandomDevice")},lr=r=>(lr=qt())(r),Gt=(r,e)=>(lr(w.subarray(r,r+e)),0),be=r=>r%4===0&&(r%100!==0||r%400===0),xt=(r,e)=>{for(var t=0,n=0;n<=e;t+=r[n++]);return t},fr=[31,29,31,30,31,30,31,31,30,31,30,31],cr=[31,28,31,30,31,30,31,31,30,31,30,31],Jt=(r,e)=>{for(var t=new Date(r.getTime());e>0;){var n=be(t.getFullYear()),i=t.getMonth(),s=(n?fr:cr)[i];if(e>s-t.getDate())e-=s-t.getDate()+1,t.setDate(1),i<11?t.setMonth(i+1):(t.setMonth(0),t.setFullYear(t.getFullYear()+1));else return t.setDate(t.getDate()+e),t}return t};function Xt(r,e,t){var n=t>0?t:sr(r)+1,i=new Array(n),s=ar(r,i,0,i.length);return e&&(i.length=s),i}var Zt=(r,e)=>{R.set(r,e)},Kt=(r,e,t,n)=>{var i=_[n+40>>2],s={tm_sec:$[n>>2],tm_min:$[n+4>>2],tm_hour:$[n+8>>2],tm_mday:$[n+12>>2],tm_mon:$[n+16>>2],tm_year:$[n+20>>2],tm_wday:$[n+24>>2],tm_yday:$[n+28>>2],tm_isdst:$[n+32>>2],tm_gmtoff:$[n+36>>2],tm_zone:i?Re(i):""},o=Re(t),a={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var f in a)o=o.replace(new RegExp(f,"g"),a[f]);var c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],v=["January","February","March","April","May","June","July","August","September","October","November","December"];function p(l,d,P){for(var y=typeof l=="number"?l.toString():l||"";y.length<d;)y=P[0]+y;return y}function g(l,d){return p(l,d,"0")}function m(l,d){function P(z){return z<0?-1:z>0?1:0}var y;return(y=P(l.getFullYear()-d.getFullYear()))===0&&(y=P(l.getMonth()-d.getMonth()))===0&&(y=P(l.getDate()-d.getDate())),y}function b(l){switch(l.getDay()){case 0:return new Date(l.getFullYear()-1,11,29);case 1:return l;case 2:return new Date(l.getFullYear(),0,3);case 3:return new Date(l.getFullYear(),0,2);case 4:return new Date(l.getFullYear(),0,1);case 5:return new Date(l.getFullYear()-1,11,31);case 6:return new Date(l.getFullYear()-1,11,30)}}function Y(l){var d=Jt(new Date(l.tm_year+1900,0,1),l.tm_yday),P=new Date(d.getFullYear(),0,4),y=new Date(d.getFullYear()+1,0,4),z=b(P),se=b(y);return m(z,d)<=0?m(se,d)<=0?d.getFullYear()+1:d.getFullYear():d.getFullYear()-1}var D={"%a":l=>c[l.tm_wday].substring(0,3),"%A":l=>c[l.tm_wday],"%b":l=>v[l.tm_mon].substring(0,3),"%B":l=>v[l.tm_mon],"%C":l=>{var d=l.tm_year+1900;return g(d/100|0,2)},"%d":l=>g(l.tm_mday,2),"%e":l=>p(l.tm_mday,2," "),"%g":l=>Y(l).toString().substring(2),"%G":Y,"%H":l=>g(l.tm_hour,2),"%I":l=>{var d=l.tm_hour;return d==0?d=12:d>12&&(d-=12),g(d,2)},"%j":l=>g(l.tm_mday+xt(be(l.tm_year+1900)?fr:cr,l.tm_mon-1),3),"%m":l=>g(l.tm_mon+1,2),"%M":l=>g(l.tm_min,2),"%n":()=>`
`,"%p":l=>l.tm_hour>=0&&l.tm_hour<12?"AM":"PM","%S":l=>g(l.tm_sec,2),"%t":()=>"	","%u":l=>l.tm_wday||7,"%U":l=>{var d=l.tm_yday+7-l.tm_wday;return g(Math.floor(d/7),2)},"%V":l=>{var d=Math.floor((l.tm_yday+7-(l.tm_wday+6)%7)/7);if((l.tm_wday+371-l.tm_yday-2)%7<=2&&d++,d){if(d==53){var y=(l.tm_wday+371-l.tm_yday)%7;y!=4&&(y!=3||!be(l.tm_year))&&(d=1)}}else{d=52;var P=(l.tm_wday+7-l.tm_yday-1)%7;(P==4||P==5&&be(l.tm_year%400-1))&&d++}return g(d,2)},"%w":l=>l.tm_wday,"%W":l=>{var d=l.tm_yday+7-(l.tm_wday+6)%7;return g(Math.floor(d/7),2)},"%y":l=>(l.tm_year+1900).toString().substring(2),"%Y":l=>l.tm_year+1900,"%z":l=>{var d=l.tm_gmtoff,P=d>=0;return d=Math.abs(d)/60,d=d/60*100+d%60,(P?"+":"-")+("0000"+d).slice(-4)},"%Z":l=>l.tm_zone,"%%":()=>"%"};o=o.replace(/%%/g,"\0\0");for(var f in D)o.includes(f)&&(o=o.replace(new RegExp(f,"g"),D[f](s)));o=o.replace(/\0\0/g,"%");var V=Xt(o,!1);return V.length>e?0:(Zt(V,r),V.length-1)},Qt=(r,e,t,n,i)=>Kt(r,e,t,n);Ur(),q=u.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError"}},Ne=u.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError"}},xr(),zr(),nt(),Qe=u.UnboundTypeError=ut(Error,"UnboundTypeError"),mt();var vr={__cxa_throw:Wr,_abort_js:kr,_embind_register_bigint:jr,_embind_register_bool:Hr,_embind_register_class:lt,_embind_register_class_constructor:dt,_embind_register_class_function:gt,_embind_register_emval:ir,_embind_register_float:wt,_embind_register_integer:Pt,_embind_register_memory_view:Ct,_embind_register_optional:Tt,_embind_register_std_string:Ft,_embind_register_std_wstring:jt,_embind_register_void:Ut,_emscripten_memcpy_js:It,_emval_take_value:Mt,emscripten_resize_heap:Vt,environ_get:zt,environ_sizes_get:Nt,getentropy:Gt,strftime_l:Qt},T=Dr(),dr=r=>(dr=T.__getTypeName)(r),Oe=r=>(Oe=T.malloc)(r),k=r=>(k=T.free)(r),pr=r=>(pr=T.__cxa_is_pointer_type)(r);u.dynCall_viijii=(r,e,t,n,i,s,o)=>(u.dynCall_viijii=T.dynCall_viijii)(r,e,t,n,i,s,o),u.dynCall_iiiiij=(r,e,t,n,i,s,o)=>(u.dynCall_iiiiij=T.dynCall_iiiiij)(r,e,t,n,i,s,o),u.dynCall_iiiiijj=(r,e,t,n,i,s,o,a,f)=>(u.dynCall_iiiiijj=T.dynCall_iiiiijj)(r,e,t,n,i,s,o,a,f),u.dynCall_iiiiiijj=(r,e,t,n,i,s,o,a,f,c)=>(u.dynCall_iiiiiijj=T.dynCall_iiiiiijj)(r,e,t,n,i,s,o,a,f,c);var we;Q=function r(){we||gr(),we||(Q=r)};function gr(){if(B>0||(mr(),B>0))return;function r(){we||(we=!0,u.calledRun=!0,!ke&&(yr(),F(u),u.onRuntimeInitialized&&u.onRuntimeInitialized(),br()))}u.setStatus?(u.setStatus("Running..."),setTimeout(function(){setTimeout(function(){u.setStatus("")},1),r()},1)):r()}if(u.preInit)for(typeof u.preInit=="function"&&(u.preInit=[u.preInit]);u.preInit.length>0;)u.preInit.pop()();return gr(),A=O,A}})();const tn=(j,U,A)=>{const u=new U;A.forEach(O=>u.push_back(O));const F=j.forward(u),E=[];for(let O=0;O<F.size();O++)E.push(F.get(O));return u.delete(),F.delete(),E};(async()=>{const{AsmCore:j,Vector:U}=await rn();addEventListener("message",async A=>{const{module:u,algorithm:F,genomes:E,seed:O}=A.data,{default:oe}=await en(Object.assign({"../demo/modules/flappy.ts":()=>import("./flappy-DrNYt809.js"),"../demo/modules/race.ts":()=>import("./race-iuUf-bfm.js")}),`../demo/modules/${u}.ts`),x=[];for(let C=0;C<E.length;C++){const J=new j(F);J.buildGenome(E[C]);let X=-1;try{X=await oe(I=>tn(J,U,I),void 0,O)}catch{}J.delete(),x.push(X)}postMessage(x)}),postMessage(!0)})();
